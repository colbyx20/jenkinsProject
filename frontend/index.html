<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="app.css" rel="stylesheet" />
    <title>Docker Website</title>
</head>
<body>
    <div class="top">
	  <h1>Welcome to my Docker Application! </h1>
	  <h2>NGINX Docker image modified!</h1>
	  <span>SSH connection Success to GitHub</span><br/>
	  <span>Jenkins Success on pull REQ, still issue with WebHooks</span><br/>
    </div>
    <hr/>
    <div>
        Press Button 
        <div id="counter"></div>
        <button onclick="incrementCounter();">Click ME!!</button>
        <button onclick="decrementCounter();">Decrement Counter!</button>
        <button onclick="resetCounter();">Reset Counter</button>
    </div>

    <div>
     <form>
       <label for="message">Enter a message:</label>
       <input type="text" id="message" name="message" required>
       <button type="button" id="submitBtn">Send POST Request</button>
     </form>
    </div>

	<h1> asdfasdfasdfasdfa </h1>

    <script>

        let counter = 0;
        document.getElementById("counter").innerHTML = counter;

        function incrementCounter(){
            counter += 1;
        document.getElementById("counter").innerHTML = counter;
        }

        function decrementCounter(){
            counter -= 1;
            document.getElementById("counter").innerHTML = counter; 
        }

        function resetCounter(){
            counter = 0;
            document.getElementById("counter").innerHTML = 0; 
        }
    </script>

   <script>
    const sendMessage = async (e) => {
        e.preventDefault();
        const messageInput = document.getElementById('message');
        const message = messageInput.value;
        

        try {
            const response = await fetch('http://localhost:4000/message', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ message }),
            });

            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }

            const contentType = response.headers.get('content-type');
            if (contentType && contentType.includes('application/json')) {
                const data = await response.json();
                console.log('Response:', data);
            } else {
                const data = await response.text();
                console.log('Response:', data);
            }
        } catch (error) {
            console.error('Error:', error.message);
        }
    };

    document.getElementById('submitBtn').addEventListener('click', sendMessage);
   </script>


</body>
</html>
